import React, { useEffect } from "react";
import { useInView } from "react-intersection-observer";
import { motion, useAnimation } from "framer-motion";

const svgFromRightVariants = {
  hidden: {
    x: "200%",
    opacity: 0,
  },
  visible: {
    x: 0,
    opacity: 1,
    transition: {
      duration: 1.5,
    },
  },
};

const jumpingSnack = {
  visible: {
    y: [
      -10, -20, -30, -40, -50, -60, -70, -80, -90, -100, -120, -130, -140, -130,
      -120, -100, -90, -80, -70, -60, -50, -40, -30, -20, -10, 0,
    ],
    transition: {
      duration: 3,
      repeat: Infinity,
    },
  },
};

function GrocerySvg() {
  const [ref, inView] = useInView({ threshold: 0.1 });
  const animation = useAnimation();

  useEffect(() => {
    if (inView) {
      animation.start("visible");
    }
    if (!inView) {
      animation.start("hidden");
    }
  }, [inView]);

  return (
    <div ref={ref}>
      <motion.svg
        variants={svgFromRightVariants}
        initial="hidden"
        animate={animation}
        width="180"
        height="160"
        viewBox="0 0 862 741"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g id="undraw_shopping_app_flsj 1">
          <motion.g id="snackOne" variants={jumpingSnack} animate={animation}>
            <path
              id="Vector"
              d="M627.681 567.422L561.357 519.099C583.726 496.653 604.071 464.692 623.527 428.554L689.852 476.877C663.349 507.881 640.899 538.308 627.681 567.422Z"
              fill="#6C63FF"
            />
            <path
              id="Vector_2"
              d="M627.699 515.974C638.511 515.974 647.275 506.946 647.275 495.81C647.275 484.673 638.511 475.645 627.699 475.645C616.888 475.645 608.124 484.673 608.124 495.81C608.124 506.946 616.888 515.974 627.699 515.974Z"
              fill="white"
            />
          </motion.g>
          <motion.g id="snackTwo" variants={jumpingSnack} animate={animation}>
            <path
              id="Vector_3"
              d="M538.13 451.572H524.502C524.023 451.572 523.563 451.768 523.224 452.117C522.885 452.466 522.695 452.94 522.695 453.433V459.595C522.695 460.089 522.885 460.562 523.224 460.911C523.563 461.26 524.023 461.456 524.502 461.456H526.76V470.689H535.872V461.456H538.13C538.609 461.456 539.069 461.26 539.408 460.911C539.746 460.562 539.937 460.089 539.937 459.595V453.433C539.937 452.94 539.746 452.466 539.408 452.117C539.069 451.768 538.609 451.572 538.13 451.572V451.572Z"
              fill="#E6E6E6"
            />
            <path
              id="Vector_4"
              d="M551.78 507.965C543.434 495.385 539.167 480.406 539.591 465.175C539.599 464.823 539.488 464.48 539.277 464.203C539.067 463.926 538.77 463.733 538.437 463.656V460.993H524.044V463.619H523.846C523.652 463.619 523.46 463.658 523.281 463.735C523.102 463.812 522.939 463.924 522.802 464.066C522.665 464.207 522.557 464.375 522.483 464.56C522.409 464.744 522.371 464.942 522.371 465.142C522.371 465.179 522.372 465.216 522.375 465.253C523.509 481.535 519.68 496.136 510.888 509.057C510.382 509.8 510.124 510.691 510.152 511.598L511.725 561.746C511.763 562.865 512.219 563.925 512.998 564.706C513.776 565.486 514.817 565.927 515.904 565.936H548.459C549.558 565.927 550.61 565.476 551.391 564.68C552.172 563.883 552.62 562.804 552.64 561.672L553.246 512.983C553.264 511.196 552.753 509.445 551.78 507.965V507.965Z"
              fill="#6C63FF"
            />
            <path
              id="Vector_5"
              opacity="0.2"
              d="M535.289 453.58C535.289 454.645 534.878 455.666 534.147 456.419C533.416 457.172 532.425 457.595 531.391 457.595C530.357 457.595 529.365 457.172 528.634 456.419C527.903 455.666 527.493 454.645 527.493 453.58"
              fill="black"
            />
            <path
              id="Vector_6"
              d="M546.627 524.623H518.29C517.87 524.623 517.456 524.716 517.075 524.897C516.693 525.077 516.355 525.341 516.082 525.668C515.809 525.996 515.607 526.381 515.492 526.797C515.377 527.212 515.35 527.648 515.414 528.076L519.696 556.747H544.285L549.486 528.172C549.565 527.739 549.55 527.294 549.443 526.868C549.335 526.441 549.138 526.045 548.865 525.706C548.592 525.367 548.25 525.094 547.863 524.907C547.476 524.72 547.054 524.623 546.627 524.623V524.623Z"
              fill="white"
            />
          </motion.g>
          <motion.g id="snackThree" variants={jumpingSnack} animate={animation}>
            <path
              id="Vector_7"
              d="M499.246 567.343H418.009C423.689 535.711 422.382 497.515 418.009 456.438H499.246C494.99 497.516 493.718 535.711 499.246 567.343Z"
              fill="#6C63FF"
            />
            <path
              id="Vector_8"
              d="M459.117 529.03C469.928 529.03 478.692 520.002 478.692 508.866C478.692 497.729 469.928 488.701 459.117 488.701C448.306 488.701 439.542 497.729 439.542 508.866C439.542 520.002 448.306 529.03 459.117 529.03Z"
              fill="white"
            />
          </motion.g>
          <g id="Group 2">
            <path
              id="Vector_9"
              d="M667.38 574.667H409.293L354.64 308.534H307.998V296.592H364.037L418.689 562.725H667.38V574.667Z"
              fill="#3F3D56"
            />
            <path
              id="Vector_10"
              d="M662.674 569.043H411.57L367.265 343.506H704.252C705.972 343.507 707.671 343.89 709.232 344.632C710.794 345.373 712.182 346.453 713.299 347.8C714.417 349.146 715.238 350.725 715.707 352.43C716.175 354.134 716.28 355.922 716.013 357.672L674.434 558.684C674.005 561.576 672.581 564.213 670.423 566.115C668.264 568.016 665.515 569.056 662.674 569.043V569.043ZM414.297 565.632H662.674C664.724 565.64 666.709 564.89 668.267 563.518C669.824 562.145 670.851 560.242 671.161 558.155L712.74 357.143C712.933 355.88 712.857 354.589 712.519 353.358C712.182 352.128 711.589 350.988 710.782 350.016C709.976 349.045 708.974 348.265 707.847 347.73C706.72 347.195 705.493 346.918 704.252 346.918H371.286L414.297 565.632Z"
              fill="#3F3D56"
            />
            <path
              id="Vector_11"
              d="M460.386 568.322L431.371 345.49L434.638 344.934L463.653 567.766L460.386 568.322Z"
              fill="#3F3D56"
            />
            <path
              id="Vector_12"
              d="M621.718 566.611L618.448 566.065L646.615 344.939L649.886 345.485L621.718 566.611Z"
              fill="#3F3D56"
            />
            <path
              id="Vector_13"
              d="M544.852 345.212H541.54V568.044H544.852V345.212Z"
              fill="#3F3D56"
            />
            <path
              id="Vector_14"
              d="M384.185 404.922L384.177 408.334L704.801 409.133L704.809 405.721L384.185 404.922Z"
              fill="#3F3D56"
            />
            <path
              id="Vector_15"
              d="M632.601 623.287C646.321 623.287 657.443 611.83 657.443 597.697C657.443 583.565 646.321 572.108 632.601 572.108C618.882 572.108 607.759 583.565 607.759 597.697C607.759 611.83 618.882 623.287 632.601 623.287Z"
              fill="#3F3D56"
            />
            <path
              id="Vector_16"
              d="M173.183 152.134C182.339 152.134 189.762 144.488 189.762 135.056C189.762 125.624 182.339 117.977 173.183 117.977C164.026 117.977 156.604 125.624 156.604 135.056C156.604 144.488 164.026 152.134 173.183 152.134Z"
              fill="#2F2E41"
            />
            <path
              id="Vector_17"
              d="M192.249 129.078C192.247 124.773 190.666 120.627 187.822 117.472C184.978 114.316 181.081 112.385 176.913 112.065C177.325 112.033 177.737 112 178.157 112C182.554 112 186.771 113.799 189.88 117.002C192.989 120.205 194.736 124.549 194.736 129.078C194.736 133.608 192.989 137.952 189.88 141.154C186.771 144.357 182.554 146.156 178.157 146.156C177.737 146.156 177.325 146.123 176.913 146.092C181.081 145.771 184.978 143.84 187.822 140.685C190.666 137.53 192.247 133.384 192.249 129.078Z"
              fill="#2F2E41"
            />
            <path
              id="Vector_18"
              d="M447.114 623.287C460.834 623.287 471.956 611.83 471.956 597.697C471.956 583.565 460.834 572.108 447.114 572.108C433.394 572.108 422.272 583.565 422.272 597.697C422.272 611.83 433.394 623.287 447.114 623.287Z"
              fill="#3F3D56"
            />
          </g>
          <g id="Group 1">
            <path
              id="Vector_19"
              d="M307.739 346.915H300.459C300.203 346.915 299.957 347.02 299.776 347.206C299.595 347.393 299.493 347.646 299.493 347.91V351.201C299.493 351.332 299.518 351.461 299.567 351.582C299.615 351.702 299.687 351.812 299.776 351.904C299.866 351.997 299.972 352.07 300.089 352.12C300.206 352.17 300.332 352.196 300.459 352.196H301.665V357.128H306.533V352.196H307.739C307.995 352.196 308.241 352.091 308.422 351.904C308.603 351.718 308.704 351.465 308.704 351.201V347.91C308.704 347.646 308.603 347.393 308.422 347.206C308.241 347.02 307.995 346.915 307.739 346.915V346.915Z"
              fill="#E6E6E6"
            />
            <path
              id="Vector_20"
              d="M315.031 377.041C310.572 370.321 308.293 362.319 308.52 354.182C308.524 353.994 308.465 353.811 308.352 353.663C308.24 353.515 308.081 353.412 307.903 353.37V351.948H300.214V353.351H300.108C300.005 353.351 299.902 353.372 299.807 353.413C299.711 353.454 299.624 353.514 299.551 353.589C299.478 353.665 299.42 353.755 299.38 353.853C299.341 353.952 299.32 354.058 299.32 354.164C299.32 354.184 299.321 354.204 299.323 354.224C300.032 362.526 297.858 370.819 293.186 377.625C292.916 378.021 292.778 378.498 292.793 378.982L293.633 405.772C293.654 406.369 293.897 406.936 294.313 407.353C294.729 407.77 295.285 408.005 295.865 408.01H313.257C313.844 408.005 314.406 407.764 314.823 407.339C315.24 406.913 315.48 406.337 315.49 405.732L315.814 379.722C315.824 378.767 315.551 377.832 315.031 377.041V377.041Z"
              fill="#6C63FF"
            />
            <path
              id="Vector_21"
              opacity="0.2"
              d="M306.221 347.988C306.221 348.557 306.002 349.102 305.611 349.505C305.221 349.907 304.691 350.133 304.139 350.133C303.587 350.133 303.057 349.907 302.666 349.505C302.276 349.102 302.056 348.557 302.056 347.988"
              fill="black"
            />
            <path
              id="Vector_22"
              d="M311.644 382.203H296.962V392.285H311.644V382.203Z"
              fill="white"
            />
            <path
              id="Vector_23"
              d="M166.966 218.311L185.203 216.604L196.809 187.571L176.085 175.616L166.966 218.311Z"
              fill="#FFB8B8"
            />
            <path
              id="Vector_24"
              d="M334.335 298.014C334.941 296.456 335.18 294.772 335.03 293.101C334.881 291.43 334.348 289.819 333.476 288.401C332.603 286.984 331.416 285.8 330.013 284.948C328.609 284.095 327.029 283.598 325.402 283.499L297.087 281.759L292.918 296.04L322.067 304.287C324.503 304.976 327.1 304.717 329.362 303.56C331.625 302.404 333.395 300.429 334.335 298.014V298.014Z"
              fill="#FFB8B8"
            />
            <path
              id="Vector_25"
              d="M303.93 304.527L303.619 277.729L240.723 267.391L192.269 210.147C189.748 207.169 186.265 205.233 182.464 204.697C178.663 204.162 174.803 205.064 171.598 207.235C169.658 208.55 168.022 210.288 166.805 212.326C165.589 214.364 164.821 216.653 164.558 219.03C164.294 221.407 164.541 223.815 165.28 226.083C166.019 228.351 167.233 230.424 168.835 232.156L208.809 282.83L303.93 304.527Z"
              fill="#575A89"
            />
            <path
              id="Vector_26"
              d="M152.873 605.987H169.453L210.575 414.466L253.178 473.631L278.047 601.717H293.797L290.481 464.238L234.941 317.365H180.229C165.278 345.238 153.549 373.97 166.966 403.61L152.873 605.987Z"
              fill="#2F2E41"
            />
            <path
              id="Vector_27"
              d="M267.883 617.62C267.7 618.224 267.644 618.861 267.718 619.49C267.793 620.118 267.997 620.723 268.316 621.264C268.635 621.805 269.062 622.27 269.57 622.627C270.077 622.985 270.652 623.227 271.257 623.338L311.827 630.754C313.43 631.056 315.085 630.743 316.48 629.875C317.875 629.007 318.913 627.643 319.399 626.041V626.041C319.872 624.51 319.806 622.856 319.213 621.37C318.619 619.884 317.537 618.661 316.155 617.916C307.234 613.198 299.557 606.322 293.781 597.879C289.322 602.156 284.339 601.754 279.047 598.602L273.434 599.324L267.883 617.62Z"
              fill="#2F2E41"
            />
            <path
              id="Vector_28"
              d="M145.197 617.62C145.014 618.224 144.957 618.861 145.032 619.49C145.107 620.118 145.31 620.723 145.629 621.264C145.949 621.805 146.376 622.27 146.883 622.627C147.39 622.985 147.966 623.227 148.571 623.338L189.14 630.754C190.743 631.056 192.398 630.743 193.793 629.875C195.188 629.007 196.227 627.643 196.713 626.041V626.041C197.186 624.51 197.12 622.856 196.526 621.37C195.933 619.884 194.85 618.661 193.468 617.916C184.548 613.198 176.871 606.322 171.095 597.879C166.636 602.156 161.652 601.754 156.36 598.602L150.747 599.324L145.197 617.62Z"
              fill="#2F2E41"
            />
            <path
              id="Vector_29"
              d="M197.223 198.245C210.042 198.245 220.434 187.54 220.434 174.335C220.434 161.131 210.042 150.426 197.223 150.426C184.404 150.426 174.012 161.131 174.012 174.335C174.012 187.54 184.404 198.245 197.223 198.245Z"
              fill="#FFB8B8"
            />
            <path
              id="Vector_30"
              d="M176.499 323.77L237.013 322.062L219.241 264.446C230.286 246.208 219.17 227.988 203.44 209.773L191.006 201.234L171.11 199.526C162.497 209.02 157.783 221.58 157.958 234.574C158.352 262.399 163.135 292.689 176.499 323.77Z"
              fill="#575A89"
            />
            <path
              id="Vector_31"
              d="M315.533 362.552C316.685 361.365 317.548 359.914 318.049 358.316C318.55 356.719 318.675 355.022 318.414 353.366C318.154 351.709 317.514 350.139 316.549 348.787C315.585 347.435 314.321 346.338 312.864 345.587L287.496 332.513L278.209 343.954L301.859 363.347C303.835 364.968 306.321 365.782 308.843 365.636C311.365 365.489 313.747 364.391 315.533 362.552V362.552Z"
              fill="#FFB8B8"
            />
            <path
              id="Vector_32"
              d="M285.093 356.218L295.04 331.455L241.164 296.463L218.478 224.2C217.297 220.44 214.834 217.249 211.544 215.216C208.255 213.184 204.361 212.449 200.585 213.147V213.147C198.299 213.569 196.131 214.504 194.235 215.885C192.338 217.266 190.759 219.059 189.608 221.137C188.458 223.216 187.766 225.529 187.579 227.914C187.392 230.299 187.716 232.697 188.528 234.938L205.927 297.725L285.093 356.218Z"
              fill="#575A89"
            />
            <path
              id="Vector_33"
              d="M159.091 164.942C159.091 174.246 164.956 188.653 172.354 194.829C177.332 198.985 183.91 198.81 186.446 193.121C189.048 187.286 198.017 173.57 213.802 164.942C234.845 153.441 206.34 133.763 186.446 136.763C171.498 139.018 159.091 149.38 159.091 164.942Z"
              fill="#2F2E41"
            />
            <path
              id="Vector_34"
              d="M197.637 182.875C199.697 182.875 201.368 180.581 201.368 177.751C201.368 174.921 199.697 172.628 197.637 172.628C195.577 172.628 193.907 174.921 193.907 177.751C193.907 180.581 195.577 182.875 197.637 182.875Z"
              fill="#FFB8B8"
            />
            <path
              id="Vector_35"
              d="M312.967 311.093C323.028 311.093 331.184 306.51 331.184 300.857C331.184 295.204 323.028 290.621 312.967 290.621C302.905 290.621 294.749 295.204 294.749 300.857C294.749 306.51 302.905 311.093 312.967 311.093Z"
              fill="#3F3D56"
            />
            <path
              id="Vector_36"
              d="M682.183 510.321L400.508 512.304L400.531 515.716L682.206 513.733L682.183 510.321Z"
              fill="#3F3D56"
            />
          </g>
        </g>
      </motion.svg>
    </div>
  );
}

export default GrocerySvg;
